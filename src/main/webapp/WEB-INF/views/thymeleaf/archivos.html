<!DOCTYPE html>
<html lang="en"  xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <!-- Boostrap core css -->
  <link rel="stylesheet" th:href="@{/webjars/bootstrap/5.2.0/css/bootstrap.min.css}"/>

  <!--ICONOS DE FONT AWESOME-->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css"
        integrity="sha512-KfkfwYDsLkIlwQp6LFnl8zNdLGxu9YAA1QvwINks4PhcElQSvqcyVLLD9aMhXd13uQjoXtEKNosOWaZqXgel0g=="
        crossorigin="anonymous" referrerpolicy="no-referrer">

  <!-- Mis estilos -->
  <link rel="stylesheet" th:href="@{/css/main.css}"/>

  <title>Archivos</title>
</head>

<body>
  <!--Header-->
  <div th:insert="templates/header :: header"></div>

  <h2>Subir Archivo</h2>
  <a class="btn btn-success" th:href="@{/subirArchivo}">Subir Archivo</a>

  <h2>Lista de Archivos Subidos:</h2>

  <!-- Tabla de archivos -->
  <div class="container mt-4">
    <table id="tablaArchivos" class="table table-striped table-bordered">
      <thead class="table-dark">
      <tr>
        <th scope="col">Nombre</th>
        <th scope="col">Tipo</th>
        <th scope="col">Peso (MB)</th>
        <th scope="col">Acciones</th>
      </tr>
      </thead>
      <tbody>
      <tr th:each="arch : ${archivos}">

        <td>
          <p th:text="${arch.nombre}"></p>
        </td>
        <td>
          <p th:text="${arch.tipo}"></p>
        </td>
        <td>
          <p th:text="${arch.peso}"></p>
        </td>
        <td>
          <a th:href="@{/archivos/eliminar(archivo_id=${arch.id})}" class="btn btn-danger btn-sm">Eliminar</a>
        </td>
      </tr>
      </tbody>
    </table>
  </div>


  <!-- jQuery Script para actualizar la tabla -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

  <!-- Boostrap core javascript -->
  <script type="text/javascript" th:src="@{webjars/bootstrap/5.2.0/js/bootstrap.min.js}"></script>

</body>
</html>