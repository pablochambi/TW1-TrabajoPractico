<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<!--Head (LINK, STYLE, ETC) -->
<head th:insert="templates/head :: head"></head>
<body>
<!--Header (NAVEGADOR) -->
<div th:insert="templates/headerAdmin :: header"></div>
<main>
    <section class="container my-4" th:each="ped : ${pedidos}">
        <div class="border p-3">
            <!-- Cabecera de la ficha -->
            <div class="row">
                <div class="col-8">
                    <h4>Orden de Producción NRO: 100<span th:text="${ped.id}"></span></h4>
                </div>
                <div class="col-4 text-right">
                    <img src="/spring/images/LOGO_MARCA_AGUA.png" alt="Logo Thaco Tex" height="40">
                </div>
            </div>

            <div class="row mt-3">
                <div class="col-6">
                    <label><strong>Cliente:</strong></label>
                    <input type="text" class="form-control" th:placeholder="${ped.nombre}" disabled>
                </div>
                <div class="col-6">
                    <label><strong>Fecha:</strong></label>
                    <input type="text" class="form-control" th:placeholder="${ped.fechaCreacion}" disabled>
                </div>
            </div>

            <div class="row mt-3">
                <div class="col-6">
                    <label><strong>Tipo de Servicio:</strong></label>
                    <p th:text="${ped.conCalandrado ? 'Calandra' : 'Solo Papel'}"></p>
                </div>
            </div>

            <div class="row mt-3">
                <div class="col-6">
                    <label><strong>Plotter:</strong></label>
                    <input type="text" class="form-control"  placeholder="Plotter" disabled>
                </div>
                <div class="col-6">
                    <label><strong>Tela:</strong></label>
                    <input type="text" class="form-control" placeholder="Tela" disabled>
                </div>
            </div>

            <!-- Tabla de Archivos -->
            <div class="row mt-4">
                <div class="col-12">
                    <table class="table table-hover text-center">
                        <thead>
                        <tr>
                            <th>Nombre del Archivo</th>
                            <th>Descarga</th>
                            <th>Metros</th>
                        </tr>o
                        </thead>
                        <tbody>
                        <tr th:each="archi : ${archivos}">
                            <td>
                                <p th:text="${archi.nombre}" class="m-0 p-2"></p>
                            </td>
                            <td>
                                <a th:href="@{/archivos/Cliente_04/escalador.png}" download class="p-2 btn btn-primary">
                                    Descargar
                                </a>
                            </td>
                            <td>
                                <div th:if="${archi.impreso == false}">
                                    <form th:action="@{/simuladorDeImpresion}" method="post" class="d-flex justify-content-evenly align-items-center">
                                        <input type="hidden" th:value="${archi.id}" name="archivoId">
                                        <input type="number" class="form-control" name="metros" min="1" placeholder="Metros del archivo" required>
                                        <button type="submit" class="btn btn-primary">
                                            Realizar impresión
                                        </button>
                                    </form>
                                </div>

                                <div th:if="${archi.impreso == true}">
                                    <p class="fw-bold">HECHO</p>
                                    <br>
                                    <span>Precio: <b th:text="${archi.precio}"></b></span>
                                </div>
                            </td>
                            <!--<td>
                                <form th:action="@{/simuladorDeImpresion}" method="post" class="d-flex justify-content-evenly align-items-center">
                                    <input type="hidden" th:value="${archi.id}" name="archivoId">
                                    <input type="number" class="form-control" name="metros" min="1" placeholder="Metros del archivo" required>
                                    <button type="submit" class="btn btn-primary">
                                        Realizar impresión
                                    </button>
                                </form>
                            </td>-->
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </section>
</main>
<div th:insert="templates/footer :: footer"></div>
<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>